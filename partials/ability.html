<table class="table table-condensed table-bordered table-tiny">
	<tbody>
		<!-- 属性 -->
		<tr ng-repeat="unit in ability._requireList">
			<th>{{unit.title || unit.attr}} 【{{unit.desc}}】</th>
			<td>
				<input ng-show="getType(unit.attr) === 'string' && !Ability[unit.attr]" class="form-control" ng-model="ability[unit.attr]" />
				<div groupselect ng-show="getType(unit.attr) === 'object'" data-ability="ability" data-attr="{{unit.attr}}" data-base="Ability"></div>
				<div groupselect ng-show="getType(unit.attr) === 'string' && Ability[unit.attr]" data-ability="ability" data-attr="{{unit.attr}}" data-base="Ability" data-single="true"></div>
			</td>
		</tr>

		<!-- 事件 -->
		<tr>
			<th colspan="2" class="success">
				Events 【事件】
			</th>
		</tr>
		<tr>
			<td colspan="2">
				<!-- 事件 -->
				<div ng-repeat="(event_index,event) in ability._eventList" class="group-event">
					<label>
						<a href="javascript:void(0)" ng-click="common.array.remove(event, ability._eventList)">[X]</a>
						Event {{event_index + 1}}
					</label>
					<select class="form-control" ng-model="event.name">
						<option ng-repeat="_event in Event.EventList" value="{{_event[0]}}">{{_event[0]}} 【{{_event[1]}}】</option>
					</select>

					<!-- 操作 -->
					<div eventoperation data-container="event" data-path="_operationList"></div>
				</div>
				<button class="btn btn-primary" ng-click="addEvent()">+ new event 【新建事件】</button>
			</td>
		</tr>

		<!-- 修饰器 -->
		<tr>
			<th colspan="2" class="success">
				Modifiers 【修饰器】
			</th>
		</tr>
		<tr>
			<td colspan="2">
				<!-- 修饰器 -->
				<div ng-repeat="(modifier_index,modifier) in ability._modifierList" class="group-modifier">
					<label>
						<a href="javascript:void(0)" ng-click="common.array.remove(modifier, ability._modifierList)">[X]</a>
						Modifier {{modifier_index + 1}}
					</label>
					<table class="table table-condensed table-bordered">
						<tbody>
							<!-- 属性 -->
							<tr ng-repeat="unit in modifier._requireList">
								<th>{{unit.title || unit.attr}} 【{{unit.desc}}】</th>
								<td>
									<input ng-show="getType(unit.attr, modifier) === 'string' && !Modifier[unit.attr]" class="form-control" ng-model="modifier[unit.attr]" />
									<div groupselect ng-show="getType(unit.attr, modifier) === 'object'" data-ability="modifier" data-attr="{{unit.attr}}" data-base="Modifier"></div>
									<div groupselect ng-show="getType(unit.attr, modifier) === 'string' && Modifier[unit.attr]" data-ability="modifier" data-attr="{{unit.attr}}" data-base="Modifier" data-single="true"></div>
									<input ng-show="getType(unit.attr, modifier) === 'boolean'"
										type="checkbox" ng-checked="modifier[unit.attr]"
										ng-click="modifier[unit.attr] = !modifier[unit.attr]" />
								</td>
							</tr>

							<!-- 属性 -->
							<tr>
								<th colspan="2" class="warning">
									Properties 【属性】
								</th>
							</tr>
							<tr>
								<td colspan="2">
									<table class="table table-bordered table-condensed">
										<tbody>
											<tr ng-repeat="_prop in modifier._propertyList">
												<th>
													<a href="javascript:void(0)" ng-click="common.array.remove(_prop, modifier._propertyList)">[X]</a>
													{{_prop[0].replace("MODIFIER_PROPERTY_", "")}}
													【{{common.array.find(_prop[0], Modifier.Properties, "0")[1]}}】
												</th>
												<td>
													<input type="text" class="form-control" ng-model="_prop[1]" />
												</td>
											</tr>
										</tbody>
									</table>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<select class="form-control" ng-init="modifierProp = Modifier.Properties[0][0]" ng-model="modifierProp">
										<option ng-repeat="item in Modifier.Properties" value="{{item[0]}}">
											{{item[0].replace("MODIFIER_PROPERTY_", "")}}
											【{{item[1]}}】
										</option>
									</select>
									<button class="btn btn-warning" ng-click="modifier._propertyList.push([modifierProp, ''])">+ new Property 【添加属性】</button>
								</td>
							</tr>

							<!-- 状态 -->
							<tr>
								<th colspan="2" class="warning">
									States 【状态】
								</th>
							</tr>
							<tr>
								<td colspan="2">
									<table class="table table-bordered table-condensed">
										<tbody>
										<tr ng-repeat="_state in modifier._stateList">
											<th>
												<a href="javascript:void(0)" ng-click="common.array.remove(_state, modifier._stateList)">[X]</a>
												{{_state[0].replace("MODIFIER_STATE_", "")}}
												【{{common.array.find(_state[0], Modifier.States, "0")[1]}}】
											</th>
											<td>
												<select class="form-control" ng-model="_state[1]">
													<option ng-repeat="st in Modifier.StateValues" value="{{st[0]}}">
														{{st[0].replace("MODIFIER_STATE_VALUE_", "")}}
														【{{st[1]}}】
													</option>
												</select>
											</td>
										</tr>
										</tbody>
									</table>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<select class="form-control" ng-init="modifierState = Modifier.States[0][0]" ng-model="modifierState">
										<option ng-repeat="item in Modifier.States" value="{{item[0]}}">
											{{item[0].replace("MODIFIER_STATE_", "")}}
											【{{item[1]}}】
										</option>
									</select>
									<button class="btn btn-warning" ng-click="modifier._stateList.push([modifierState, Modifier.StateValues[0][0]])">+ new State 【添加状态】</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<button class="btn btn-primary" ng-click="addModifier()">+ new Modifier 【新建修饰器】</button>
			</td>
		</tr>
	</tbody>
</table>